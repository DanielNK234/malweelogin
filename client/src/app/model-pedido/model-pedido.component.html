<mat-card *ngIf="htmladd ==2">
  <mat-card-content  >
    <mat-tab-group>
      <mat-tab label="cadastro">
      <mat-card-actions class="but">
       <mat-card-title>
           <h1>Cadastrar</h1>
       </mat-card-title> 
        <button class="buts" (click)=" onNoClick()"><mat-icon>clear</mat-icon></button>
      </mat-card-actions>
      <mat-form-field calss = "dat" appearance="legacy">
        <mat-label>Data de Emissão</mat-label>
        <input matInput [matDatepicker]="picker"  [(ngModel)]="startDate">
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle  matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker startView="year" [startAt]="startDate"></mat-datepicker>
      </mat-form-field>
      
      <mat-form-field calss = "dat" appearance="legacy">
        <mat-label>Data de entrega</mat-label>
        <input matInput [matDatepicker]="picker1"  [(ngModel)]="lastDate">
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle  matSuffix [for]="picker1"></mat-datepicker-toggle>
        <mat-datepicker #picker1 startView="year" [startAt]="lastDate"></mat-datepicker>
      </mat-form-field><br>
      


      <mat-form-field  appearance="legacy">
        <mat-label>Cliente</mat-label>
        <input matInput placeholder="Digite o nome do cliente"  type="text" [(ngModel)]="nomeFantasia" maxlength="100" minlength="2">
      </mat-form-field>
      <br>
    <table *ngIf="nomeFantasia.length">
      <tr>
        <th>Nome</th>
      </tr>
      <tr  *ngFor="let clientes of clientes  | filter : nomeFantasia">
        <td (click)="addNomeFantasia(clientes.nomeFantasia, clientes.id)">{{clientes.nomeFantasia}}</td>
    </tr>
     </table>
      <br>
      <mat-form-field  appearance="legacy">
        <mat-label>Endereço</mat-label>
        <input matInput placeholder="Digite a rua do Endereço"  type="text" [(ngModel)]="logradouro" maxlength="100" minlength="2">
      </mat-form-field>
      <br>
      <table *ngIf="nomeFantasia.length ">
        <tr>
          <th>rua</th>
          <th>Bairro</th>
          <th>Cidade</th>
          <th>Estado</th>
        </tr>
        <tr  *ngFor="let Endereco of Endereco | filter : logradouro">
            <td (click)="addEndereco(Endereco.logradouro, Endereco.id)">{{Endereco.logradouro}}</td>
            <td (click)="addEndereco(Endereco.logradouro, Endereco.id)">{{Endereco.bairro}}</td>
            <td (click)="addEndereco(Endereco.logradouro, Endereco.id)">{{Endereco.localidade}}</td>
            <td (click)="addEndereco(Endereco.logradouro, Endereco.id)">{{Endereco.uf}}</td>
        </tr> 
       </table>
       <br>

       <mat-card-actions>
         <button class="card" mat-raised-button color="black" (click)="addPedido()" >Cadastrar</button>
       </mat-card-actions>
      </mat-tab>
      <mat-tab  label="pedido">
        <mat-card-actions class="but">
          <mat-card-title>
              <h1>pedido</h1>
          </mat-card-title> 
           <button class="buts" (click)=" onNoClick()"><mat-icon>clear</mat-icon></button>
         </mat-card-actions>
        <mat-form-field class="example-full-width" appearance="legacy">
          <mat-label>Produto</mat-label>
          <input matInput placeholder="Ex. jeans" [(ngModel)]="prod">
        </mat-form-field>
    
        <div *ngIf="prod.length">
          <div *ngFor="let produtos of produto | filter : prod">
              <h3 (click)="addProduto(produtos.description, produtos.id,produtos.precoVenda)">{{produtos.description}}</h3>
          </div>
          <div *ngFor="let produtos of produto2">
            <h3>Valor unitário : {{produtos.precoVenda}}</h3>

            <mat-form-field appearance="legacy">
              <mat-label>Quantidade</mat-label>
              <input matInput placeholder="digite a quantidade:" [(ngModel)]="quantidade" (blur)="calculaTotal()">
            </mat-form-field>
            
    
            <mat-form-field appearance="legacy">
              <mat-label>Acrescimo (%)</mat-label>
              <input matInput placeholder="digite o acrescimo:" [(ngModel)]="acrescimo" (blur)="calculaTotal()">
            </mat-form-field>
    
            <mat-form-field appearance="legacy">
              <mat-label>Desconto (%)</mat-label>
              <input matInput placeholder="digite o desconto:" [(ngModel)]="desconto" (blur)="calculaTotal()">
            </mat-form-field>
    
            <mat-form-field appearance="legacy">
              <mat-label>Total</mat-label>
              <input matInput [(ngModel)]="total" (blur)="calculaTotal()">
            </mat-form-field>

            <div mat-dialog-actions>
              <button mat-raised-button (click) = "adicionarArrayDePedidos()">Adicionar</button>
              <button mat-raised-button (click)="resetModels()">Apagar</button>
            </div>
        </div>
      </div>
      </mat-tab>

      <mat-tab label="Confirmar pedido">
        <table *ngIf="nomeFantasia.length">
          <tr>
            <th>Nome</th>
            <th>Data de Emissão</th>
            <th>Data de Entrega</th>
          </tr>
          <tr *ngFor="let cliente of clientes2">
              <td>{{cliente.nome}}</td>
              <td>{{cliente.dataEmissao | date: "dd/mm/yyyy"}}</td>
              <td>{{cliente.dataEntrega | date: "dd/mm/yyyy"}}</td>
          </tr>
  
          <tr>
            <th>rua</th>
            <th>Bairro</th>
            <th>Cidade</th>
            <th>Estado</th>
          </tr>
          <tr *ngFor="let enderecos of Endereco">
            <td>{{enderecos.rua}}</td>
            <td>{{enderecos.bairro}}</td>
            <td>{{enderecos.localidade}}</td>
            <td>{{enderecos.uf}}</td>
          </tr>
  
          <tr>
            <th>Produto</th>
            <th>Valor Unitário</th>
            <th>Quantidade</th>
            <th>Acrescimo</th>
            <th>Desconto</th>
            <th>Total do Produto</th>
            <th>Total</th>
          </tr>
          <tr *ngFor="let produto of produto3">
            <td>{{produto.description}}</td>
            <td>{{produto.vlUnitario}}</td>
            <td>{{produto.quantidade}}</td>
            <td>{{produto.acrescimo}}%</td>
            <td>{{produto.desconto}}%</td>
            <td>{{produto.totalPedido}}</td>
            <td>{{produto.total}}</td>
          </tr>
        </table>
  
        <div mat-dialog-actions>
          <button mat-raised-button (click) = "addPedido()" (click)=" onNoClick()">Confirmar </button>
        </div>
  
      </mat-tab>
      </mat-tab-group>
    </mat-card-content>
</mat-card>

<!-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->

<mat-card *ngIf="htmladd ==1">

    <div class="title">
      <mat-card-actions class="but">
         <button class="buts" (click)=" onNoClick()"><mat-icon>clear</mat-icon></button>
       </mat-card-actions>
    </div>
     
     
     <mat-expansion-panel hideToggle>
    <mat-expansion-panel-header>
          <mat-panel-title>
            Editar
          </mat-panel-title>
        </mat-expansion-panel-header>

    <mat-form-field appearance="fill">
      <mat-label>Data Emissão</mat-label>
      <input matInput [matDatepicker]="picker" [(ngModel)]="startDate">
      <mat-hint>MM/DD/YYYY</mat-hint>
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker startView="year" [startAt]="startDate"></mat-datepicker>
    </mat-form-field>
  
    <mat-form-field appearance="fill">
      <mat-label>Data Entrega</mat-label>
      <input matInput [matDatepicker]="picker2" [(ngModel)]="lastDate">
      <mat-hint>MM/DD/YYYY</mat-hint>
      <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
      <mat-datepicker #picker2 startView="year" [startAt]="startDate"></mat-datepicker>
    </mat-form-field>

 <div class="center">
        <div class="buuton">
          <div *ngFor="let produtos of produto">
              <h3 (click)="addProduto(produtos.description, produtos.id,produtos.precoVenda)"><button></button></h3>
          </div>
        </div>
          <div *ngFor="let produtos of produto2">
    <app-drpdown [array]="prodPedidos"  [textField]="'description'" 
      [title]="''" [(ngModel)]="selectedProduto"></app-drpdown> 

       <div *ngIf="selectedProduto > 0">
        <div *ngFor="let proPedido of proPedidos">
          <div *ngIf="selectedProduto == proPedido.id">
            <h3 (click)="addPreco(proPedido.vlUnitario, proPedido.description,proPedido.total)">{{proPedido.vlUnitario}}</h3>
          </div>
        </div>
      </div>

      <mat-form-field appearance="legacy">
        <mat-label>Quantidade</mat-label>
        <input matInput placeholder="digite a quantidade:" [(ngModel)]="quantidade" (blur)="calculaTotal()">
      </mat-form-field>
    
      <mat-form-field appearance="legacy">
        <mat-label>Acrescimo (%)</mat-label>
        <input matInput placeholder="digite o acrescimo:" [(ngModel)]="acrescimo" (blur)="calculaTotal()">
      </mat-form-field>
    
      <mat-form-field appearance="legacy">
        <mat-label>Desconto (%)</mat-label>
        <input matInput placeholder="digite o desconto:" [(ngModel)]="desconto" (blur)="calculaTotal()">
      </mat-form-field>
    
      <mat-form-field appearance="legacy">
        <mat-label>Total</mat-label>
        <input matInput [(ngModel)]="total"  >
      </mat-form-field>
    <mat-card-actions> 
        <button  class="card"mat-raised-button color="black"  (click)="putPedido()" (click)=" onNoClick()">editar</button>
    </mat-card-actions>
    </div>
    </div>

    </mat-expansion-panel>
  
    <mat-expansion-panel hideToggle>
    <mat-expansion-panel-header>
          <mat-panel-title>
            Deletar
          </mat-panel-title>
        </mat-expansion-panel-header>

        <p>Você realmente deseja deletar este ENDEREÇO ?</p>

        <mat-card-actions> 
        <button  class="card"mat-raised-button color="black"  (click)="PedidoDelete()" (click)=" onNoClick()">deletar</button>
    </mat-card-actions>
    </mat-expansion-panel>

</mat-card>
